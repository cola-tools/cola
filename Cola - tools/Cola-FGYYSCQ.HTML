<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="../assets/vico/main.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£æ ¼è¨€è¯­ç”Ÿæˆ - å°å¯ä¹å·¥å…·ç«™</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        .container {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 28px;
        }
        .control-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
            justify-content: center;
        }
        .category-btn {
            background-color: #f1f3f5;
            color: #495057;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .category-btn:hover {
            background-color: #e9ecef;
        }
        .category-btn.active {
            background-color: #4263eb;
            color: white;
        }
        .quote-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .quote-text {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        .quote-type {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #4263eb;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
        }
        .generate-btn {
            background-color: #4263eb;
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
            margin: 20px auto;
            display: block;
        }
        .generate-btn:hover {
            background-color: #364fc7;
        }
        .loading {
            text-align: center;
            margin: 20px 0;
            display: none;
        }
        .spinner {
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 5px solid #4263eb;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .error {
            color: #e74c3c;
            margin-top: 20px;
            padding: 15px;
            background-color: #fdecea;
            border-radius: 6px;
            text-align: center;
            display: none;
        }
        .share-btns {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        .share-btn {
            background-color: #f1f3f5;
            color: #495057;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .share-btn:hover {
            background-color: #e9ecef;
        }
        .empty-state {
            text-align: center;
            padding: 50px 0;
            color: #7f8c8d;
        }
        .empty-state img {
            width: 100px;
            opacity: 0.6;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>é£æ ¼è¨€è¯­ç”Ÿæˆå™¨</h1>
        
        <div class="control-panel">
            <button class="category-btn active" data-category="dutang">
                <span>ğŸµ</span> æ¯’é¸¡æ±¤
            </button>
            <button class="category-btn" data-category="yulu">
                <span>ğŸ’¼</span> ç¤¾ä¼šè¯­å½•
            </button>
            <button class="category-btn" data-category="yiyan">
                <span>âœ¨</span> ä¸€è¨€
            </button>
        </div>
        
        <div class="quote-container" id="quote-container">
            <div class="empty-state" id="empty-state">
                <img src="https://cdn-icons-png.flaticon.com/512/4076/4076478.png" alt="ç©ºçŠ¶æ€">
                <h3>è¿˜æ²¡æœ‰å†…å®¹</h3>
                <p>é€‰æ‹©é£æ ¼å¹¶ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç”Ÿæˆ</p>
            </div>
            <div class="quote-text" id="quote-text" style="display: none;"></div>
            <div class="quote-type" id="quote-type" style="display: none;"></div>
        </div>
        
        <button class="generate-btn" id="generate-btn">ç”Ÿæˆè¨€è¯­</button>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>å°å¯ä¹æ‹¼å‘½åŠ è½½ä¸­ï¼Œè¯·ç¨å€™...</p>
        </div>
        
        <div class="error" id="error"></div>
        
        <div class="share-btns" id="share-btns" style="display: none;">
            <button class="share-btn" onclick="shareQuote('weibo')">
                <span>ğŸ¦</span> åˆ†äº«åˆ°å¾®åš
            </button>
            <button class="share-btn" onclick="shareQuote('wechat')">
                <span>ğŸ’¬</span> åˆ†äº«åˆ°å¾®ä¿¡
            </button>
            <button class="share-btn" onclick="copyQuote()">
                <span>ğŸ“‹</span> å¤åˆ¶å†…å®¹
            </button>
        </div>
    </div>

    <script>
        // å½“å‰é€‰ä¸­çš„åˆ†ç±»
        let currentCategory = 'dutang';
        
        // è®¾ç½®åˆ†ç±»æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentCategory = this.dataset.category;
            });
        });
        
        // ç”ŸæˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('generate-btn').addEventListener('click', function() {
            const loadingElement = document.getElementById('loading');
            const errorElement = document.getElementById('error');
            const quoteTextElement = document.getElementById('quote-text');
            const quoteTypeElement = document.getElementById('quote-type');
            const emptyStateElement = document.getElementById('empty-state');
            const shareBtnsElement = document.getElementById('share-btns');
            
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            loadingElement.style.display = 'block';
            errorElement.style.display = 'none';
            emptyStateElement.style.display = 'none';
            quoteTextElement.style.display = 'none';
            quoteTypeElement.style.display = 'none';
            shareBtnsElement.style.display = 'none';
            
            // è°ƒç”¨APIè·å–å†…å®¹
            fetchQuote(currentCategory);
        });
        
        function fetchQuote(category) {
            let apiUrl = '';
            let typeName = '';
            
            // æ ¹æ®é€‰æ‹©çš„åˆ†ç±»è®¾ç½®APIåœ°å€å’Œç±»å‹åç§°
            switch(category) {
                case 'dutang':
                    apiUrl = 'https://api.oick.cn/dutang/api.php';
                    typeName = 'æ¯’é¸¡æ±¤';
                    break;
                case 'yulu':
                    apiUrl = 'https://api.oick.cn/yulu/api.php';
                    typeName = 'ç¤¾ä¼šè¯­å½•';
                    break;
                case 'yiyan':
                    apiUrl = 'https://api.oick.cn/yiyan/api.php';
                    typeName = 'ä¸€è¨€';
                    break;
                default:
                    apiUrl = 'https://api.oick.cn/dutang/api.php';
                    typeName = 'æ¯’é¸¡æ±¤';
            }
            
            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('ç½‘ç»œè·‘ä¸¢äº†ï¼Œè¯·ç¨åå†è¯•');
                    }
                    return response.text();
                })
                .then(text => {
                    // å¤„ç†è¿”å›çš„å†…å®¹
                    displayQuote({
                        type: typeName,
                        content: text.trim()
                    });
                    
                    document.getElementById('loading').style.display = 'none';
                })
                .catch(error => {
                    console.error('è·å–å†…å®¹å¤±è´¥:', error);
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('error').textContent = 'è·å–å†…å®¹å¤±è´¥: ' + error.message;
                    document.getElementById('error').style.display = 'block';
                    document.getElementById('empty-state').style.display = 'block';
                });
        }
        
        function displayQuote(quote) {
            const quoteTextElement = document.getElementById('quote-text');
            const quoteTypeElement = document.getElementById('quote-type');
            const emptyStateElement = document.getElementById('empty-state');
            const shareBtnsElement = document.getElementById('share-btns');
            
            quoteTextElement.textContent = quote.content;
            quoteTypeElement.textContent = quote.type;
            
            quoteTextElement.style.display = 'block';
            quoteTypeElement.style.display = 'block';
            shareBtnsElement.style.display = 'flex';
            emptyStateElement.style.display = 'none';
        }
        
        function shareQuote(platform) {
            const quoteText = document.getElementById('quote-text').textContent;
            const quoteType = document.getElementById('quote-type').textContent;
            let shareUrl = '';
            
            switch(platform) {
                case 'weibo':
                    shareUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(window.location.href)}&title=${encodeURIComponent(`${quoteType}: ${quoteText} - æ¥è‡ªé£æ ¼è¨€è¯­ç”Ÿæˆå™¨`)}`;
                    break;
                case 'wechat':
                    alert(`å½“å‰åŠŸèƒ½ä¸å¯ç”¨ï¼Œè¯·å¤åˆ¶ä¸‹é¢çš„å†…å®¹åˆ†äº«åˆ°å¾®ä¿¡ï¼š\n\nã€${quoteType}ã€‘\n${quoteText}`);
                    return;
                default:
                    return;
            }
            
            window.open(shareUrl, '_blank', 'width=550,height=420');
        }
        
        function copyQuote() {
            const quoteText = document.getElementById('quote-text').textContent;
            const quoteType = document.getElementById('quote-type').textContent;
            const fullText = `ã€${quoteType}ã€‘\n${quoteText}`;
            
            navigator.clipboard.writeText(fullText).then(() => {
                alert('å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶ã€‚');
            });
        }
    </script>
</body>
</html>

<!--
ç«™é•¿å£°æ˜ï¼šæœ¬ç«™ç‰ˆæƒå½’ å°å¯ä¹å·¥å…·ç«™ æ‰€æœ‰ï¼Œä¸å¾—ç§è‡ªäº¤æ˜“ï¼Œä¸å¾—å•†ç”¨ï¼Œä¸å¾—ç”¨äºè¿æ³•è¡Œä¸ºã€‚
æ­¤ç«™ç‚¹ä»…ä½œä¸ºå¨±ä¹è®¾è®¡ï¼Œä¸å¾—ç”¨äºå¼€æºé¡¹ç›®æˆ–å…¶ä»–æœ‰å…³ç½‘ç»œçš„ä»»ä½•è¡Œä¸ºï¼Œä»…ä½œä¸ºæ¼”ç¤ºå†…å®¹å±•ç¤ºï¼›
å› å¼€å‘è€…è‡ªèº«åŸå› å¯¼è‡´çš„ä»»ä½•è¡Œä¸ºï¼Œéƒ½ç”±æœ¬äººè´Ÿè´£ï¼Œä¸æœ¬ç«™ç‚¹ç«™é•¿ä»¥åŠç›¸å…³äººå‘˜æ— å…³ï¼Œæœ‰ä»»ä½•
å…³äºæœ¬ç«™çš„å¼‚è®®ï¼Œè¯·è”ç³»æœ¬ç«™ç«™é•¿ï¼›è‹¥å‘ç°ä¾µæƒè€…ï¼Œä¸€å¾‹ä¸¥æ ¼å¤„ç½šï¼

å¾®ä¿¡å…¬ä¼—å·ï¼šå°å¯ä¹å·¥å…·ç«™
é‚®ç®±è”ç³»ï¼š2171156701@qq.com
å…¶ä»–è”ç³»æ–¹å¼ï¼š
QQå®˜æ–¹è®ºå›ç¾¤ï¼š893776311
-->
